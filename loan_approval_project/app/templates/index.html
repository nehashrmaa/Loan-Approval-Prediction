<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loan Approval Predictor</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body {
            background: linear-gradient(135deg, #f5f7fa, #c3cfe2);
            min-height: 100vh;
            padding: 20px 0;
        }

        .card {
            border-radius: 15px;
            border: none;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
        }

        .card-header {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: #fff;
            border-radius: 15px 15px 0 0;
        }

        .form-label {
            font-weight: 600;
        }

        .btn-predict {
            background: linear-gradient(135deg, #667eea, #764ba2);
            border: none;
            color: #fff;
            padding: 12px 30px;
            border-radius: 8px;
            transition: 0.3s ease;
        }

        .btn-predict:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 14px rgba(102, 126, 234, 0.35);
        }

        .form-control,
        .form-select {
            border-radius: 8px;
            padding: 10px 15px;
            border: 2px solid #e0e0e0;
        }

        .form-control:focus,
        .form-select:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 0.25rem rgba(102, 126, 234, 0.25);
        }

        .info-box {
            background: #e8f4f8;
            border-left: 4px solid #667eea;
            padding: 15px;
            border-radius: 0 8px 8px 0;
            margin-bottom: 20px;
        }
    </style>
</head>

<body>

    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-10">

                <div class="card">
                    <div class="card-header text-center py-3">
                        <h2 class="mb-0"> Loan Approval Predictor</h2>
                        <p class="mb-0" style="opacity:.8;">Simple ML model that predicts loan eligibility</p>
                    </div>

                    <div class="card-body p-4">

                        <div class="info-box">
                            <h5 class="mb-2">How to Use</h5>
                            <ul class="mb-0">
                                <li>Enter the required details in the form</li>
                                <li>Use sample values if you're unsure</li>
                                <li>Click the button below to check eligibility</li>
                            </ul>
                        </div>

                        <form method="POST" action="/predict" class="row g-3">

                            <!-- LEFT SIDE -->
                            <div class="col-md-6">
                                <h5 class="border-bottom pb-2 mb-3">Personal Details</h5>

                                <div class="mb-3">
                                    <label class="form-label">Number of Dependents</label>
                                    <input type="number" name="no_of_dependents" class="form-control"
                                        value="{{ sample.no_of_dependents }}" min="0" max="10" required>
                                </div>

                                <div class="mb-3">
                                    <label class="form-label">Education</label>
                                    <select name="education" class="form-select" required>
                                        {% if education_options %}
                                            {% for option in education_options %}
                                                <option value="{{ option }}"
                                                    {% if option == sample.education %} selected {% endif %}>
                                                    {{ option }}
                                                </option>
                                            {% endfor %}
                                        {% else %}
                                            <option value="Graduate">Graduate</option>
                                            <option value="Not Graduate">Not Graduate</option>
                                        {% endif %}
                                    </select>
                                </div>

                                <div class="mb-3">
                                    <label class="form-label">Self Employed</label>
                                    <select name="self_employed" class="form-select" required>
                                        {% if employment_options %}
                                            {% for option in employment_options %}
                                                <option value="{{ option }}"
                                                    {% if option == sample.self_employed %} selected {% endif %}>
                                                    {{ option }}
                                                </option>
                                            {% endfor %}
                                        {% else %}
                                            <option value="Yes">Yes</option>
                                            <option value="No">No</option>
                                        {% endif %}
                                    </select>
                                </div>
                            </div>

                            <!-- RIGHT SIDE -->
                            <div class="col-md-6">
                                <h5 class="border-bottom pb-2 mb-3">Financial Details</h5>

                                <div class="mb-3">
                                    <label class="form-label">Annual Income (₹)</label>
                                    <input type="number" name="income_annum" class="form-control"
                                        value="{{ sample.income_annum }}" min="0" required>
                                </div>

                                <div class="mb-3">
                                    <label class="form-label">Loan Amount (₹)</label>
                                    <input type="number" name="loan_amount" class="form-control"
                                        value="{{ sample.loan_amount }}" min="0" required>
                                </div>

                                <div class="mb-3">
                                    <label class="form-label">Loan Term (Months)</label>
                                    <input type="number" name="loan_term" class="form-control"
                                        value="{{ sample.loan_term }}" min="1" max="360" required>
                                </div>

                                <div class="mb-3">
                                    <label class="form-label">CIBIL Score</label>
                                    <input type="number" name="cibil_score" class="form-control"
                                        value="{{ sample.cibil_score }}" min="300" max="900" required>
                                </div>
                            </div>

                            <!-- ASSETS -->
                            <div class="col-12">
                                <h5 class="border-bottom pb-2 mb-3">Assets Details</h5>

                                <div class="row">
                                    <div class="col-md-3 mb-3">
                                        <label class="form-label">Residential Assets (₹)</label>
                                        <input type="number" name="residential_assets_value" class="form-control"
                                            value="{{ sample.residential_assets_value }}" min="0" required>
                                    </div>

                                    <div class="col-md-3 mb-3">
                                        <label class="form-label">Commercial Assets (₹)</label>
                                        <input type="number" name="commercial_assets_value" class="form-control"
                                            value="{{ sample.commercial_assets_value }}" min="0" required>
                                    </div>

                                    <div class="col-md-3 mb-3">
                                        <label class="form-label">Luxury Assets (₹)</label>
                                        <input type="number" name="luxury_assets_value" class="form-control"
                                            value="{{ sample.luxury_assets_value }}" min="0" required>
                                    </div>

                                    <div class="col-md-3 mb-3">
                                        <label class="form-label">Bank Assets (₹)</label>
                                        <input type="number" name="bank_asset_value" class="form-control"
                                            value="{{ sample.bank_asset_value }}" min="0" required>
                                    </div>
                                </div>
                            </div>

                            <!-- SUBMIT BUTTON -->
                            <div class="col-12 text-center mt-4">
                                <button type="submit" class="btn btn-predict btn-lg">
                                    Predict Loan Approval
                                </button>
                            </div>

                        </form>
                    </div>

                    <div class="card-footer text-center text-muted">
                        <small>Note: This is just a prediction model. Final loan decision may differ.</small>
                    </div>
                </div>

                <div class="text-center mt-4">
                    <div class="alert alert-info">
                        <strong>Tip:</strong> Try entering CIBIL score below 600 to see how the model reacts.
                    </div>
                </div>

            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
